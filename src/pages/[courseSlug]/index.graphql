query coursesForIndexPagePaths {
  courses {
    slug
  }
}

query courseForIndexPageSlug($slug: String!) {
  courses(where: { slug: { _eq: $slug} }) {
    id
  }
}

query infoForIndexPage($courseId: Int!) {
  course(id: $courseId) {
    id
    name
    img
    holes(order_by: { number: asc }) {
      ...holeForScoresHeader
    }
  }

  latestRounds: rounds(
    where: { courseId: { _eq: $courseId } },
    order_by: { date: desc },
    limit: 1,
  ) {
    ...roundForRoundCard
  }

  leaderboardPlayerRounds: playerRounds(
    where: {
      courseId: { _eq: $courseId },
      courseRank: { _lte:10 }
    }
  ) {
    ...playerRoundForCourseLeaderboard
  }

  playersWithScoringStats: players(
    where: { scores: { courseId: { _eq: $courseId } } },
    order_by: { playerRounds_aggregate: { count: desc } }
  ) {
    ...scoringStatsForCard
  }

  playersWithParticipationStats: players(
    where: { scores: { courseId: { _eq: $courseId } } },
    order_by: { playerRounds_aggregate: { count: desc } },
  ) {
    ...participationStatsForCard
  }
}
